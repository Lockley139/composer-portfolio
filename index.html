<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Composer for Games and Film — original scores and sound design." />
  <title>Composer for Games and Film</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            display: ['Cormorant Garamond', 'Georgia', 'serif'],
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      },
    };
  </script>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body class="bg-black text-white antialiased">
  <header id="site-header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 py-4 px-6">
    <nav class="max-w-7xl mx-auto flex items-center justify-between">
      <a href="index.html" class="font-display text-2xl font-medium tracking-tight text-white hover:text-gray-300 transition-colors">Composer</a>
      <button id="nav-toggle" type="button" class="md:hidden p-2 text-white" aria-label="Toggle menu" aria-expanded="false">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
      <ul id="nav-menu" class="hidden md:flex flex-col md:flex-row gap-6 md:gap-8 list-none m-0 p-0 md:items-center absolute md:relative top-full left-0 right-0 md:top-auto md:left-auto md:right-auto py-4 md:py-0 px-6 md:px-0 bg-black/95 md:bg-transparent border-t md:border-0 border-white/10">
        <li><a href="index.html" class="text-white/90 hover:text-white link-underline">Home</a></li>
        <li><a href="portfolio.html" class="text-white/80 hover:text-white link-underline">Portfolio</a></li>
        <li><a href="about.html" class="text-white/80 hover:text-white link-underline">About</a></li>
        <li><a href="contact.html" class="text-white/80 hover:text-white link-underline">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <!-- 1. Hero -->
    <section class="relative min-h-screen flex items-center justify-center overflow-hidden">
      <div class="absolute inset-0 z-0 bg-gradient-to-b from-zinc-900 via-black to-black">
        <video id="hero-video" class="absolute inset-0 w-full h-full object-cover" autoplay muted loop playsinline poster="assets/images/hero-poster.jpg">
          <source src="assets/videos/hero-bg.mp4" type="video/mp4" />
        </video>
        <div class="hero-overlay absolute inset-0 z-10"></div>
      </div>
      <div class="relative z-20 text-center px-6 max-w-4xl mx-auto">
        <h1 id="hero-name" class="font-display text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-light tracking-tight text-white mb-4">Jake Lockley</h1>
        <p class="text-lg sm:text-xl text-white/80 font-light mb-10">Composer for Games and Film
        </p>
        <a href="#showreel" class="inline-block px-8 py-4 border border-white/50 text-white hover:bg-white hover:text-black transition-all duration-300 font-medium">Watch Showreel</a>
      </div>
      <div class="absolute bottom-8 left-1/2 -translate-x-1/2 z-20">
        <a href="#showreel" class="text-white/60 hover:text-white transition-colors" aria-label="Scroll to showreel">
          <svg class="w-8 h-8 animate-bounce-slow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/></svg>
        </a>
      </div>
    </section>

    <!-- 2. Showreel -->
    <section id="showreel" class="py-24 md:py-32 px-6">
      <div class="max-w-6xl mx-auto">
        <h2 class="font-display text-4xl md:text-5xl font-light text-white mb-4 fade-in-up">Showreel</h2>
        <p class="text-white/70 mb-12 max-w-2xl fade-in-up stagger-1">A selection of recent work for games and film.</p>
        <div class="aspect-video rounded-lg overflow-hidden bg-black mb-16 fade-in-up stagger-2" id="showreel-embed">
          <iframe class="w-full h-full" src="https://www.youtube-nocookie.com/embed/ega8_bnV1y8?rel=0" title="Showreel" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>
        </div>
        <h3 class="font-display text-2xl md:text-3xl font-light text-white mb-6 fade-in-up">Top Tracks</h3>
        <div id="soundcloud-tracks" class="space-y-6 fade-in-up stagger-3">
          <!-- Injected by JS from portfolio-data.js -->
        </div>
      </div>
    </section>

    <!-- 3. Featured Projects -->
    <section class="py-24 md:py-32 px-6 bg-white/[0.02]">
      <div class="max-w-7xl mx-auto">
        <h2 class="font-display text-4xl md:text-5xl font-light text-white mb-4 fade-in-up">Featured Projects</h2>
        <p class="text-white/70 mb-16 max-w-2xl fade-in-up stagger-1">Highlights from recent game and film work.</p>
        <div id="featured-projects-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10">
          <!-- Injected by JS -->
        </div>
      </div>
    </section>

    <!-- 4. Testimonials -->
    <section class="py-24 md:py-32 px-6">
      <div class="max-w-4xl mx-auto">
        <h2 class="font-display text-4xl md:text-5xl font-light text-white mb-16 fade-in-up">Testimonials</h2>
        <div id="testimonials-list" class="space-y-16">
          <!-- Injected by JS -->
        </div>
      </div>
    </section>

    <!-- 5. About preview -->
    <section class="py-24 md:py-32 px-6 bg-white/[0.02]">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="font-display text-4xl md:text-5xl font-light text-white mb-6 fade-in-up">About</h2>
        <p id="about-preview-text" class="text-white/70 text-lg leading-relaxed mb-10 fade-in-up stagger-1">Composer for video games and film. I create immersive, narrative-driven music that supports story and emotion.</p>
        <a href="about.html" class="inline-block px-8 py-4 border border-white/50 text-white hover:bg-white hover:text-black transition-all duration-300 font-medium fade-in-up stagger-2">Learn more</a>
      </div>
    </section>

    <!-- 6. Social (TikTok / Instagram) -->
    <section class="py-24 md:py-32 px-6 border-t border-white/10">
      <div class="max-w-6xl mx-auto">
        <h2 class="font-display text-4xl md:text-5xl font-light text-white mb-4 fade-in-up">Follow</h2>
        <p class="text-white/70 mb-12 max-w-2xl fade-in-up stagger-1">Updates on TikTok and Instagram.</p>
        <div id="social-embeds" class="grid grid-cols-1 md:grid-cols-2 gap-8 fade-in-up stagger-2">
          <!-- TikTok: Get embed from TikTok app or web → video → Share → Embed. Replace the div below with the iframe code they give you. -->
          <blockquote class="tiktok-embed" cite="https://www.tiktok.com/@jake_lockley" data-unique-id="jake_lockley" data-embed-type="creator" style="max-width: 780px; min-width: 288px;" > <section> <a target="_blank" href="https://www.tiktok.com/@jake_lockley?refer=creator_embed">@jake_lockley</a> </section> </blockquote> <script async src="https://www.tiktok.com/embed.js"></script>
          <!-- Instagram: Post → ⋯ (three dots) → Embed. Replace the div below with the iframe code they give you. -->
          <div class="rounded-lg overflow-hidden bg-white/5 flex items-center justify-center min-h-[400px]">
            <!-- PASTE INSTAGRAM EMBED IFRAME HERE (replace this comment and the placeholder text) -->
            <p class="text-white/50 text-sm px-4 text-center">Instagram: Post → ⋯ → Embed → paste the iframe here.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="border-t border-white/10 py-8 px-6">
    <div class="max-w-7xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4">
      <span class="text-white/60 text-sm">© 2025 Composer. All rights reserved.</span>
      <nav class="flex gap-6">
        <a href="index.html" class="text-white/60 hover:text-white text-sm transition-colors">Home</a>
        <a href="portfolio.html" class="text-white/60 hover:text-white text-sm transition-colors">Portfolio</a>
        <a href="about.html" class="text-white/60 hover:text-white text-sm transition-colors">About</a>
        <a href="contact.html" class="text-white/60 hover:text-white text-sm transition-colors">Contact</a>
      </nav>
    </div>
  </footer>

  <script src="js/portfolio-data.js?v=2"></script>
  <script src="js/portfolio.js"></script>
  <script src="js/main.js"></script>
  <script>
    (function () {
      var data = window.PORTFOLIO_DATA;
      if (!data) {
        console.error('PORTFOLIO_DATA did not load. Use a local server: npx live-server --port=8080 --open=/index.html');
        var banner = document.createElement('div');
        banner.style.cssText = 'position:fixed;top:0;left:0;right:0;background:#b91c1c;color:white;padding:12px;text-align:center;z-index:9999;font-size:14px;';
        banner.innerHTML = 'Content from portfolio-data.js did not load. <strong>Run a local server</strong> (e.g. <code>npx live-server --port=8080 --open=/index.html</code> from the project folder) then open the URL it gives you. Do not open index.html by double-clicking.';
        document.body.insertBefore(banner, document.body.firstChild);
        return;
      }
      var site = data.site || {};
      var heroName = document.getElementById('hero-name');
      if (heroName) heroName.textContent = site.composerName || 'Composer';
      var showreelId = site.showreelYoutubeId;
      if (showreelId) {
        var el = document.querySelector('#showreel-embed iframe');
        if (el) el.src = 'https://www.youtube-nocookie.com/embed/' + showreelId + '?rel=0';
      }
      var tracks = site.soundcloudTracks || [];
      var container = document.getElementById('soundcloud-tracks');
      if (container) {
        tracks.forEach(function (t) {
          var url = (t.url || '').trim();
          if (!url) return;
          var embed = 'https://w.soundcloud.com/player/?url=' + encodeURIComponent(url) + '&color=ffffff&auto_play=false&hide_related=true';
          var div = document.createElement('div');
          div.className = 'rounded-lg overflow-hidden bg-white/5';
          div.innerHTML = (t.title ? '<p class="text-white/80 text-sm mb-2 px-2">' + t.title + '</p>' : '') + '<iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="' + embed + '"></iframe>';
          container.appendChild(div);
        });
      }
      var testimonials = site.testimonials || [];
      var testimContainer = document.getElementById('testimonials-list');
      if (testimContainer) {
        testimonials.forEach(function (t) {
          var block = document.createElement('blockquote');
          block.className = 'fade-in-up visible';
          var safeQuote = (t.quote || '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
          var safeAuthor = (t.author || '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
          block.innerHTML = '<p class="text-xl md:text-2xl text-white/90 leading-relaxed mb-6">"' + safeQuote + '"</p><footer class="text-white/60">— ' + safeAuthor + (t.project ? ' <span class="text-white/40">(' + (t.project || '').replace(/</g, '&lt;') + ')</span>' : '') + '</footer>';
          testimContainer.appendChild(block);
        });
      }
      var aboutPreviewEl = document.getElementById('about-preview-text');
      if (aboutPreviewEl && site.aboutPreview) aboutPreviewEl.textContent = site.aboutPreview;
      var featured = data.featuredProjects || [];
      var grid = document.getElementById('featured-projects-grid');
      function getYoutubeId(v) {
        if (!v) return '';
        v = String(v).trim();
        var m = v.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/);
        return m ? m[1] : v;
      }
      if (grid) {
        featured.forEach(function (p, i) {
          var card = document.createElement('article');
          card.className = 'project-card fade-in-up visible rounded-xl overflow-hidden bg-white/5 border border-white/10 group';
          var title = (p.title || 'Project').replace(/</g, '&lt;');
          var desc = (p.description || '').replace(/</g, '&lt;');
          var year = p.year || '';
          var media = p.media;
          var youtubeId = media && media.type === 'youtube' && media.id ? getYoutubeId(media.id) : '';
          var topHtml;
          if (youtubeId) {
            topHtml = '<div class="aspect-video bg-black overflow-hidden relative"><iframe class="absolute inset-0 w-full h-full" src="https://www.youtube-nocookie.com/embed/' + youtubeId + '?rel=0" title="' + title + '" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div>';
          } else {
            var thumb = p.thumbnail || '';
            topHtml = '<div class="aspect-[4/3] bg-white/5 overflow-hidden relative"><img src="' + thumb + '" alt="" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" onerror="this.style.display=\'none\'; if(this.nextElementSibling) this.nextElementSibling.style.display=\'flex\'"><div class="absolute inset-0 flex items-center justify-center bg-zinc-900/80 text-white/60 text-4xl" style="display:none">♪</div></div>';
          }
          card.innerHTML = topHtml + '<div class="p-6"><span class="text-white/50 text-sm">' + year + '</span><h3 class="font-display text-xl font-medium text-white mt-1">' + title + '</h3><p class="text-white/60 text-sm mt-2">' + desc + '</p></div>';
          card.addEventListener('click', function () { if (window.openProject) window.openProject(p); });
          grid.appendChild(card);
        });
      }
    })();
  </script>
</body>
</html>
